<ion-header [translucent]="true">
  {{clienteIdInput}}
  <ion-toolbar color="main">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Preventa</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form class="formulario" (ngSubmit)="onSubmit()" [formGroup]="clienteForm">

    <div class="form-group">
      <ion-label position="floating">CI/RUC: {{ clienteForm.value.ci }}</ion-label>
    </div>
    <div class="form-group">
      <ion-label position="floating">Nombre: {{ clienteForm.value.nombre }}</ion-label>

    </div>

    <div class="form-group">
      <ion-button expand="block" (click)="abrirClienteModalTable()">
        Seleccionar Cliente
      </ion-button>
    </div>

    <div class="form-group">
      <ion-label position="floating">Forma de Pago </ion-label>
      <ion-list>
        <ion-item>
          <ion-select
            aria-label="Forma de pago"
            id="formaPago"
            formControlName="formaPago"
            name="formaPago"
            required
          >
            <ion-select-option value="contado">Contado</ion-select-option>
            <ion-select-option value="credito">Credito</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>
    <div class="form-group">
      <ion-label position="floating">Fecha de Entrega</ion-label>
      <ion-datetime-button datetime="datetime"></ion-datetime-button>

      <ion-modal [keepContentsMounted]="true">
        <ng-template>
          <ion-datetime id="datetime"></ion-datetime>
        </ng-template>
      </ion-modal>
    </div>
    <div class="form-group">
      <ion-label position="floating">Tipo de Venta</ion-label>

      <ion-list>
        <ion-item>
          <ion-select
            aria-label="Tipo de Venta"
            id="tipoVenta"
            formControlName="tipoVenta"
            name="tipoVenta"
            required
          >
            <ion-select-option value="contado">Contado</ion-select-option>
            <ion-select-option value="credito">Credito</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>
    <div class="form-group">
      <ion-label position="floating">Observaci√≥n</ion-label>
      <ion-textarea
        formControlName="observacion"
        labelPlacement="floating"
        fill="outline"
        placeholder="Enter text"
      ></ion-textarea>
    </div>
    
    <button type="submit">Enviar</button>
  </form>

  <form class="formulario" (ngSubmit)="abrirProductoModalTabla()">
    <div class="form-group">
      <ion-button expand="block" (click)="abrirProductoModalTabla()">
        Seleccionar Producto
      </ion-button>
    </div>
    
    <ion-list [inset]="true">
      <ion-item *ngFor="let producto of productos" (click)="abrirFormProducto(producto)">
        <div class="unread-indicator-wrapper" slot="start">
          <div class="unread-indicator"></div>
        </div>
        <ion-label>
          <strong>Codigo: {{ producto.codigo }}</strong><br />
          <ion-text><strong>Descripcion: </strong> {{ producto.descripcion }}</ion-text><br />        
          <ion-text><strong>Cantidad: </strong>{{ producto.cantidad }} </ion-text> <br />
          <ion-text><strong>Precio: </strong> {{ producto.precio }}</ion-text> <br />  
          <ion-text><strong>Total: </strong> {{ producto.totalUnitario }}</ion-text>   
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-button type="submit" expand="block">Enviar</ion-button>
  </form>
</ion-content>
