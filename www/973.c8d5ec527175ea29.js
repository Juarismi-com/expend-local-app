"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[973],{973:(k,d,a)=>{a.r(d),a.d(d,{ProductoListPageModule:()=>b});var m=a(177),u=a(4341),r=a(9203),p=a(8986),l=a(467),o=a(4438),P=a(423);let F=(()=>{var e;class s{ngOnInit(){}constructor(t,n,i,f){this.fb=t,this.modalCtrl=n,this.productoService=i,this.toastController=f,this.productoForm=this.fb.group({nombre:["",u.k0.required],precio:[0,[u.k0.required,u.k0.min(0)]]})}saveProduct(){var t=this;return(0,l.A)(function*(){if(t.productoForm.valid){const n=yield t.productoService.create(t.productoForm.value);n&&(t.showToast("Producto creado correctamente","success"),t.modalCtrl.dismiss({result:n}))}})()}closeModal(){this.modalCtrl.dismiss()}showToast(t,n){var i=this;return(0,l.A)(function*(){yield(yield i.toastController.create({message:t,duration:1500,color:n,position:"bottom"})).present()})()}}return(e=s).\u0275fac=function(t){return new(t||e)(o.rXU(u.ok),o.rXU(r.W3),o.rXU(P.o),o.rXU(r.K_))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-producto-form-modal"]],decls:19,vars:3,consts:[[3,"translucent"],["color","main"],["slot","end"],[3,"click"],["name","close"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","nombre","type","text"],["formControlName","precio","type","number","min","0","step","0.01"],["expand","block","type","submit",3,"disabled"]],template:function(t,n){1&t&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o.EFF(3,"Formulario de Producto"),o.k0s(),o.j41(4,"ion-buttons",2)(5,"ion-button",3),o.bIt("click",function(){return n.closeModal()}),o.nrm(6,"ion-icon",4),o.k0s()()()(),o.j41(7,"ion-content",5)(8,"form",6),o.bIt("ngSubmit",function(){return n.saveProduct()}),o.j41(9,"ion-item")(10,"ion-label",7),o.EFF(11,"Nombre"),o.k0s(),o.nrm(12,"ion-input",8),o.k0s(),o.j41(13,"ion-item")(14,"ion-label",7),o.EFF(15,"Precio"),o.k0s(),o.nrm(16,"ion-input",9),o.k0s(),o.j41(17,"ion-button",10),o.EFF(18," Guardar "),o.k0s()()()),2&t&&(o.Y8G("translucent",!1),o.R7$(8),o.Y8G("formGroup",n.productoForm),o.R7$(9),o.Y8G("disabled",n.productoForm.invalid))},dependencies:[u.qT,u.BC,u.cb,r.Jm,r.QW,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.BC,r.ai,r.su,r.Gw,r.T6,u.j4,u.JD]}),s})();function g(e,s){if(1&e&&(o.j41(0,"ion-item",9)(1,"div",10),o.nrm(2,"div",11),o.k0s(),o.j41(3,"ion-label")(4,"h2")(5,"strong"),o.EFF(6,"ID:"),o.k0s(),o.EFF(7),o.k0s(),o.j41(8,"p")(9,"strong"),o.EFF(10,"Nombre:"),o.k0s(),o.EFF(11),o.k0s(),o.j41(12,"p")(13,"strong"),o.EFF(14,"Descripci\xf3n:"),o.k0s(),o.EFF(15),o.k0s()(),o.j41(16,"ion-button",12),o.EFF(17,"Ver"),o.k0s()()),2&e){const c=s.$implicit;o.Y8G("button",!0),o.R7$(7),o.SpI(" ",c.id,""),o.R7$(4),o.SpI(" ",c.nombre,""),o.R7$(4),o.SpI(" ",c.descripcion," ")}}const h=[{path:"",component:(()=>{var e;class s{constructor(t,n){this.productoService=t,this.modalCtrl=n,this.results=[]}ngOnInit(){var t=this;return(0,l.A)(function*(){try{t.results=yield t.productoService.getProducts()}catch(n){console.error("Error al cargar productos:",n),t.results=[]}})()}handleInput(t){var n=this;return(0,l.A)(function*(){const i=t.target.value.toLowerCase();n.results=yield n.productoService.searchProduct(i)})()}openProductoFormModal(){var t=this;return(0,l.A)(function*(){const n=yield t.modalCtrl.create({component:F});yield n.present();const{data:i}=yield n.onDidDismiss();null!=i&&i.result&&(t.results=yield t.productoService.getProducts()),console.log("Datos recibidos:",i)})()}}return(e=s).\u0275fac=function(t){return new(t||e)(o.rXU(P.o),o.rXU(r.W3))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-producto-list"]],decls:18,vars:3,consts:[[3,"translucent"],["color","main"],["slot","start"],["slot","end"],[3,"click"],["name","add-circle"],["color","light",3,"fullscreen"],[1,"container"],["detail","false",3,"button",4,"ngFor","ngForOf"],["detail","false",3,"button"],["slot","start",1,"unread-indicator-wrapper"],[1,"unread-indicator"],["fill","outline","slot","end","size","small"]],template:function(t,n){1&t&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o.nrm(3,"ion-menu-button"),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Productos"),o.k0s(),o.j41(6,"ion-buttons",3)(7,"ion-button",4),o.bIt("click",function(){return n.openProductoFormModal()}),o.nrm(8,"ion-icon",5),o.k0s()()()(),o.j41(9,"ion-content",6)(10,"div",7)(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),o.EFF(14,"Listado de Productos"),o.k0s()(),o.j41(15,"ion-card-content")(16,"ion-list"),o.DNE(17,g,18,4,"ion-item",8),o.k0s()()()()()),2&t&&(o.Y8G("translucent",!1),o.R7$(9),o.Y8G("fullscreen",!0),o.R7$(8),o.Y8G("ngForOf",n.results))},dependencies:[m.Sq,r.Jm,r.QW,r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.iq,r.uz,r.he,r.nf,r.MC,r.BC,r.ai]}),s})()}];let v=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.iI.forChild(h),p.iI]}),s})(),b=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.MD,u.YN,r.bv,v,u.X1]}),s})()}}]);