"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7077],{7077:(U,c,e)=>{e.r(c),e.d(c,{LoginFormPageModule:()=>C});var d=e(177),s=e(4341),i=e(9203),g=e(8986),v=e(467),o=e(4438),f=e(5312),h=e(1016),p=e(8414),F=e(7291);let L=(()=>{var r;class t{constructor(n,a){this.tokenService=n,this.storageService=a,this.apiUrl=f.c.apiUrl}login(n,a){var m=this;return(0,v.A)(function*(){const l=(yield h.A.post(`${m.apiUrl}/auth/login`,{username:n,password:a})).data;m.tokenService.saveToken(null==l?void 0:l.token),m.storageService.set("usuario",null==l?void 0:l.usuario)})()}}return(r=t).\u0275fac=function(n){return new(n||r)(o.KVO(p.B),o.KVO(F.n))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),t})();function P(r,t){1&r&&o.nrm(0,"ion-spinner",10)}const y=[{path:"",component:(()=>{var r;class t{constructor(n,a,m,l,G){this.formBuilder=n,this.router=a,this.authService=m,this.loadingCtrl=l,this.alertController=G,this.email="",this.password="",this.isLoading=!1,this.loginForm=this.formBuilder.group({email:["",s.k0.required],password:["",s.k0.required]})}loginFormSubmit(){var n=this;return(0,v.A)(function*(){const a=yield n.loadingCtrl.create({message:"Cargando..."}),m=yield n.alertController.create({header:"Error",message:"Usuario inv\xe1lido o inexistente",buttons:["OK"]});try{a.present(),yield n.authService.login(n.loginForm.value.email,n.loginForm.value.password),n.router.navigate(["/dashboard/dashboard-vendedor"])}catch(l){console.log(l),m.present()}finally{a.dismiss()}})()}}return(r=t).\u0275fac=function(n){return new(n||r)(o.rXU(s.ok),o.rXU(g.Ix),o.rXU(L),o.rXU(i.Xi),o.rXU(i.hG))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-login-form"]],decls:18,vars:4,consts:[[3,"translucent"],["color","main"],[3,"fullscreen"],[1,"formulario",3,"ngSubmit","formGroup"],[1,"form-group"],["position","floating"],["formControlName","email"],["type","password","formControlName","password"],["type","submit","expand","block"],["name","crescent",4,"ngIf"],["name","crescent"]],template:function(n,a){1&n&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o.EFF(3,"Login"),o.k0s()()(),o.j41(4,"ion-content",2)(5,"form",3),o.bIt("ngSubmit",function(){return a.loginFormSubmit()}),o.j41(6,"div",4)(7,"ion-label",5),o.EFF(8,"Email"),o.k0s(),o.nrm(9,"ion-input",6),o.k0s(),o.j41(10,"div",4)(11,"ion-label",5),o.EFF(12,"Password"),o.k0s(),o.nrm(13,"ion-input",7),o.k0s(),o.j41(14,"ion-button",8),o.EFF(15,"Enviar"),o.k0s(),o.j41(16,"div"),o.DNE(17,P,1,0,"ion-spinner",9),o.k0s()()()),2&n&&(o.Y8G("translucent",!0),o.R7$(4),o.Y8G("fullscreen",!0),o.R7$(),o.Y8G("formGroup",a.loginForm),o.R7$(12),o.Y8G("ngIf",a.isLoading))},dependencies:[d.bT,s.qT,s.BC,s.cb,i.Jm,i.W9,i.eU,i.$w,i.he,i.w2,i.BC,i.ai,i.Gw,s.j4,s.JD]}),t})()}];let S=(()=>{var r;class t{}return(r=t).\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.$C({type:r}),r.\u0275inj=o.G2t({imports:[g.iI.forChild(y),g.iI]}),t})(),C=(()=>{var r;class t{}return(r=t).\u0275fac=function(n){return new(n||r)},r.\u0275mod=o.$C({type:r}),r.\u0275inj=o.G2t({imports:[d.MD,s.YN,i.bv,s.X1,S]}),t})()}}]);